<!DOCTYPE html>
 
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/styles.css">
        <title> Nova novica </title>
    </head>

    <body>
        <header></header>
        <h2>Nova novica</h2>
        
        <form id='form' method="POST" action="/api/strani">
            <div class='novica'>
                <label for="stevilkastrani">Stevilka strani</label>
                <input id='stevilkastrani' type='number' name='date' placeholder='Vnesi številko strani'>
                <br>
            </div>
            <div class='novica'>
                <label for="naslov">Naslov novice (20 znakov)</label>
                <input id='naslov' type='text' name='naslov' placeholder='Vnesi naslov novice'>
                <br>
            </div>
            <div class='novica'>
                <label for="opis">Opis novice (80 znakov)</label>
                <input id='opis' type='text' name='opis' placeholder='Vnesi opis novice'>
                <br>
            </div>
            <div class='novica'>
                <input id='poslji' type='submit' name='poslji' value="Pošlji">
            </div>
        </form>
        <footer></footer>
        
        <script>
            // Header, Footer.
            fetch("/header")
                .then(response => {
                    return response.text()
                })
                .then(data => {
                    document.querySelector("header").innerHTML = data;
                });

            fetch("/footer")
                .then(response => {
                    return response.text()
                })
                .then(data => {
                    document.querySelector("footer").innerHTML = data;
                });

            function handleSubmit(event) {
                event.preventDefault();

                const data = new FormData(event.target);
                const formJSON = Object.fromEntries(data.entries());
                console.log({ formJSON });
            }

            const form = document.querySelector('form');
            form.addEventListener('submit', handleSubmit);
        </script>
    </body>
</html>